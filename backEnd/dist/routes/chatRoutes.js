"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const express_1 = require("express");
const chatRepository_1 = require("../repository/chatRepository");
const chatService_1 = require("../services/chatService");
const chatController_1 = require("../controllers/chatController");
const authMiddleware_1 = require("../middlewares/authMiddleware");
const chatRouter = (0, express_1.Router)();
const chatRepository = new chatRepository_1.ChatRepository();
const chatService = new chatService_1.ChatService(chatRepository);
const chatController = new chatController_1.ChatController(chatService);
chatRouter.get('/all/messages/:userId', authMiddleware_1.authenticateUser, chatController.getUserMessages.bind(chatController));
chatRouter.post('/access', authMiddleware_1.authenticateUser, chatController.accessChat.bind(chatController));
chatRouter.get('/:senderId/:receiverId', authMiddleware_1.authenticateUser, chatController.getMessages.bind(chatController));
chatRouter.put('/seen', authMiddleware_1.authenticateUser, chatController.markMessagesSeen.bind(chatController));
chatRouter.get('/new/notifications/:userId', authMiddleware_1.authenticateUser, chatController.getNotifications.bind(chatController));
chatRouter.put('/notification/seen', authMiddleware_1.authenticateUser, chatController.markNotificationsAsSeen.bind(chatController));
chatRouter.get('/instructor/meesagedStudent/:instructorId', authMiddleware_1.authenticateUser, chatController.getMessagedStudents.bind(chatController));
exports.default = chatRouter;
// import { Router } from "express";
// import { ChatRepository } from "../repository/chatRepository";
// import { ChatService } from "../services/chatService";
// import { ChatController } from "../controllers/chatController";
// const chatRouter = Router();
// const chatRepository = new ChatRepository();
// const chatService = new ChatService(chatRepository);
// const chatController = new ChatController(chatService);
// chatRouter.post('/access',chatController.accessChat.bind(chatController));
// chatRouter.get('/:senderId/:receiverId', chatController.getMessages.bind(chatController));
// chatRouter.get('/all/messages/:userId', chatController.getUserMessages.bind(chatController));
// chatRouter.put('/seen', chatController.markMessagesSeen.bind(chatController));
// chatRouter.get('/new/notifications/:userId', chatController.getNotifications.bind(chatController));
// chatRouter.put('/notification/seen', chatController.markNotificationsAsSeen.bind(chatController));
// chatRouter.get('/instructor/meesagedStudent/:instructorId', chatController.getMessagedStudents.bind(chatController));
// export default chatRouter;
